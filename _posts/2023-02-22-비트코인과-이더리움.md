---
layout: post
title: 비트코인과 이더리움
date: 2023-02-22 15:46 +0900
categories: [Blockchain, intro]
tags: [blockchain, bitcoin, etherium]
render_with_liquid: false
---

대표적인 블록체인 플랫폼 **비트코인**과 **이더리움**을 알아보자.

<br>

## 암호화폐

<br>
2008년 말, 사토시 나카모토라는 익명의 개인 혹은 그룹에 의해 비트코인이라고 하는 전자 지불 시스템이 등장하며 주목받기 시작했다.

전통적인 화폐는 각 국가의 대표 발행 기관에서 발행하며 나라별로 서로 다른 통화를 사용한다. 국가 간 거래 시 높은 수수료를 지급해야 한다.

암호화폐는 신용을 담보해주는 **신뢰 기관(제3자)이 필요 없고 수수료 부담이 없다**. 생산 기관이 없으므로 비용도 따로 들지 않는다. 이러한 암호화폐의 장점을 바탕으로 블록체인을 이용해 구현한 첫 암호화폐가 비트코인이다.

<br>

## 비트코인

<br>

비트코인은 어떠한 기관이 비트코인의 발행에 관여하지 않으며 시스템상으로 **2100만개만이 발행되도록 정해져 있다.** 일정한 주기(약 4년)에 따라 발행량이 절반씩 감소하고 있으며, 계속해서 통화를 발행함에 따라 화폐의 가치가 떨어지는 기존 통화와 비교했을 때 큰 차이가 있다.

비트코인을 거래할 때 활용하는 비트코인의 주소에는 사용자의 정보가 표시되지 않으므로 **익명성이 보장**된다. 이론적으로는 자신의 월렛 주소가 남들도 볼 수 있게 공게되어 있다면 누구든지 내가 얼마의 비트코인을 보유하고 있는지 쉽게 알 수 있다. 그러나 개인과 연계된 특정 비트코인 주소를 추적하는 것은 거의 불가능하므로, VPN 등을 활용하면 익명성을 유지할 수 있다.

또한 사용자 개인이 은행으로서 역할을 하기 때문에 **물리적인 한계가 없다**는 장점이 있다. 비트코인 네트워크에만 연결을 할 수 있다면 언제 어디서든 비트코인을 이용할 수 있다.

### 비트코인의 거래 과정

비트코인은 기존 은행을 통한 송금과 다르게 계좌라는 개념이 존재하지 않는다. 대신 각 사람은 비트코인을 저장하기 위해 하나 이상의 주소를 가진다. 비트코인을 보내려는 대상의 주소를 요청하고 해당 주소에 비트코인을 보내기만 하면 된다. 이 기록을 블록체인 내에 기록하면 전송이 끝난다.

### 비트코인 채굴 (Mining)

비트코인 채굴은 두 가지 의미를 가지고 있다.

1. 블록체인에 추가할 새로운 블록을 생성하는 것
2. 비트코인이라는 암호화폐를 생성하는 것

비트코인 네트워크에서는 기존의 블록체인에 추가할 블록을 생성하게 되고, 블록 생성의 결과로 새로운 비트코인이 생성되게 된다. 이를 **채굴**이라고 한다.

비트코인 채굴 과정은 시간과 컴퓨팅 파워를 소모하여 **수학문제를 푸는 것**과 같으며, 이를 맞추면 새로운 블록을 생성하게 되며 이 시간을 10분 정도 소요되게끔 난이도가 설계되어 있다. 특정 목표 값이 있고 0부터 1씩 점차적으로 증가하는 nonce 값이 있으며, 이 nonce값을 hash 함수에 통과시켜 임의 값을 만들어낸다. 생성된 값이 목표 값보다 작을 때까지 이를 반복한다.

이 블록을 생성하는 노력에 대한 보상으로 두가지 형태가 있다.

1. 새로운 블록으로부터 새로운 코인을 생성해서 얻는 보상 (발행량 일정하지 않음)
2. 이체 수수료

21만개의 블록이 생성될 때마다 새롭게 생성되는 비트코인 양이 절반으로 줄어든다. 지금까지 세번의 반감기가 있었다.(50 -> 6.5) 2100만개의 모든 비트코인이 발행되고 나서(2140년경)도 블록은 생성되어야 하기 때문에, 두 번째 보상이 필요하다. 비트코인은 계좌, 잔액의 개념이 없고 비트코인이 하나의 덩어리 형태로 존재한다. 따라서 10비트코인을 가지고 있는 소유자가 3비트코인을 전송할 때 7비트코인이 남는 것이 아니라, 7비트코인을 **자기 자신에게 보내야 한다.** 그렇지 않게 될 경우 남은 7비트코인 모두 이체 수수료로 쓰이게 된다. 채굴자들은 이체 수수료가 높은 거래를 선택해 블록 생성을 시도하려 하기 때문에, **이체 수수료가 높을수록 거래가 빨리 기록된다.**

### 비트코인의 한계

비트코인에도 여러 한계가 존재한다.

1. **실시간성이 낮다**<br>
   블록의 생성 주기가 10분인데, 이체 수수료에 따라 더 길어질 수 있으므로 거래의 완료를 바로 확인할 수 없다. 이체 수수료를 아주 낮게 설정한다면 며칠이 걸릴 수 있어 아주 오랫동안 블록에 저장되지 않을 가능성이 생긴다.

2. **확장성이 낮다**<br>
   비트코인의 초당 거래량은 7개로, Visa 신용카드가 초당 4000개 정도인 것에 비해 굉장히 느리다.

3. **에너지 소모 문제**<br>
   채굴하는데 전력 소모량이 굉장히 높다.

4. **미비한 스마트 계약 기능**<br>
   화폐로서의 역할에 집중하도록 고안되었기 때문에 아주 간단한 계약 외에는 스마트 컨트랙트를 적용할 수 없다.

이와 같은 한계로 인해 여러 산업에 적용하기 어려워, 이를 극복하기 위해 2세대 블록체인인 **이더리움**이 등장했다.

<br>

## 이더리움

<br>

1세대 블록체인은 대부분 화폐의 저장수단으로만 블록체인을 이용하고 있어 한계가 명확했다.(비트코인, 라이트코인, 네임코인...)

이더리움의 창시자인 비탈릭 부테린은 화폐 거래 기록 뿐 아니라 계약서 등의 추가 정보와 프로세스를 기록할 수 있다는 점에서 착안하여 SNS, 이메일, 전자투표 등 다양한 정보를 기록하는 시스템을 창안했다.(**스마트 계약**을 실행시키는 분산 컴퓨팅 플랫폼) 이처럼 1세대 블록체인에서 없었던 스마트 계약이라는 기능을 통해 분산 애플리케이션 제작을 할 수 있는 이더리움을 2세대 블록체인이라 부른다.

<br><br>

### 비트코인과 이더리움의 차이

가장 큰 차이점은 `스마트 계약 기능`의 유무이다.

비트코인 플랫폼에서는 스마트 계약이 블록체인에 저장되지 않고, 참가자들이 만들어내는 거래에는 비트코인을 보내고 받는 내용만 있다. 반면 이더리움에는 암호화폐인 **이더(ETH)** 뿐만 아니라 스마트 계약도 저장될 수 있다. 따라서 이더리움에서는 스마트 계약을 통해서 "사용했다", "안했다" 뿐만 아니라 "거래중", "입금확인", "거래완료" 등의 여러 상태를 만들어 낼 수 있다.

이더리움은 블록에 데이터뿐만 아니라 조건문, 반복구문 등의 실행 코드를 포함시켜 로직의 실행을 자동화할 수 있기다. 비트코인은 사용자에 대한 어떠한 정보도 블록체인에 저장되지 않지만, 이더리움은 계정 기반으로 설계되어 있어 그 계정과 관련된 정보들이 블록체인에 저장된다. 따라서 우리가 일반적으로 알고 있는 거래 개념(잔액 등)이 도입되므로 더 이해하기 수월하다.

다음은 비트코인과 이더리움을 비교한 표이다.

|                          |         Bitcoin          |                Etherium                |
| ------------------------ | :----------------------: | :------------------------------------: |
| Block generation time    |       ~ 10 minutes       |              ~ 15 seconds              |
| Transaction per Second   |         ~ 7 TPS          |                ~ 15 TPS                |
| Node Number (2020-12-12) |          11,242          |                 11,173                 |
| First Block              |        2009-01-03        |               2015-07-30               |
| Maximum Volume           |        21,000,000        |            Not defined yet             |
| Block Reward             |         6.25 BTC         |                 2 ETH                  |
| Applications             | Cryptocurrency (Bitcoin) | All industries related with Blockchain |

### 스마트 계약

기업에서 계약을 체결할 때 일반적으로 시간이 오래 걸리며 그 절차가 복접하다. 계약을 체결하는데 제 3자가 필요하며 비용 또한 많이 발생한다. 변호사가 필요할 수 있으며, 계약서가 물리적으로 존재하므로 분실 및 훼손 상황이 발생할 수 있다. 이를 해결하는 것이 스마트 계약이다.

스마트 계약은 디지털방식으로 특정한 계약을 수립, 검증, 실행하기 위한 컴퓨터 프로토콜이다. 제 3자 없이 신뢰할 수 있는 거래의 수행을 가능하게 하며, 거래들은 추적할 수 있고 되돌릴 수 없게 한다.

이더리움에서는 **Solidity** 라는 스마트 계약을 작성하는 프로그래밍 언어를 사용하여 계약서를 작성한다. 그리고 계약서 내용이 작성된 소스코드를 이더리움 컴퓨터가 이해할 수 있는 코드로 변환하여 블록체인에 저장한다.

하지만 스마트 계약에도 문제가 있다. 스마트 계약을 작성하는 것은 사람이기 때문에, 코드를 작성할 때 논리적인 결함이 있을 수 있다. 코드를 작성하는 사람이 이를 곧바로 파악하기 쉽지 않으며 이를 통한 통한 해킹 문제가 있다.

### DApp (Decentralized Application)

DApp은 이더리움 블록체인 위에서 동작하며 중앙 서버 없이 정보를 분산하여 저장하고 블록체인에 저장된 스마트 계약을 통해서 서비스를 저장한다. 따라서 해킹이 어렵고, 삭제가 불가능하며, 정보의 투명성을 제공할 수 있다. 또한 몇몇 노드에 문제가 발생해도 다른 노드들이 동일한 정보를 가지고 있으므로 운영하는데 영향을 받지 않는다.

하지만 DApp의 서비스를 사용자가 이용하기 위해서 비용이 요구되고, 전통적인 애플리케이션에 비해 비교적 느리다는 단점이 있다.

다음 포스트에서는 블록체인의 종류와 EOS, Hyperledger fabric, ICON에 대해 알아본다.
